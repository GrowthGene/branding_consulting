import streamlit as st
import random

# --- í˜ì´ì§€ ì„¤ì • ---
st.set_page_config(page_title="SNS ë¸Œëœë”© ì»¨ì„¤íŒ…", page_icon="âœ¨")

st.title("âœ¨ SNS ë¸Œëœë”© ìë™ ì»¨ì„¤íŒ… í”„ë¡œê·¸ë¨")
st.write("7ê°€ì§€ ì§ˆë¬¸ì— ë‹µë³€í•˜ë©´ ë‹¹ì‹ ë§Œì˜ ê°•ë ¥í•œ SNS ë¸Œëœë”© ì „ëµì„ ì œì•ˆí•´ ë“œë¦½ë‹ˆë‹¤.")

# í˜ë¥´ì†Œë‚˜ ë° í‚¤ì›Œë“œ ë°ì´í„° (ì‹œì¥ ë¶„ì„ ê¸°ë°˜)
personas = {
    "ì „ë¬¸ê°€": "ì‹ ë¢°ì˜ í˜„ì (Sage)",
    "ê²½í—˜ ê³µìœ ": "ê³µê°ì˜ ê°œì²™ì (Explorer)",
    "ë™ê¸°ë¶€ì—¬": "ì—´ì •ì˜ ì˜ì›… (Hero)",
    "ì •ë³´ ì œê³µ": "ì§€í˜œë¡œìš´ ì°½ì¡°ì (Creator)"
}
emotional_hooks = ["ì¬íƒ„ìƒ", "ìƒˆë¡œìš´ ì‹œì‘", "ì™„ë²½í•œ ë³€ì‹ ", "ìì‹ ê° íšŒë³µ", "ì„±ì¥ì˜ ì—¬ì •"]
cta_options = ["ì§€ê¸ˆ ë°”ë¡œ DM ì£¼ì„¸ìš”!", "í”„ë¡œí•„ ë§í¬ í™•ì¸!", "ë¬´ë£Œ ìƒë‹´ ì‹ ì²­í•˜ê¸°!"]

# --- ì…ë ¥ í¼ ---
with st.form("branding_form"):
    st.header("ğŸ“ ì‚¬ì „ ì„¤ë¬¸")
    
    mission = st.text_input("1. ë‹¹ì‹ ì˜ ë¸Œëœë“œê°€ ì¡´ì¬í•˜ëŠ” ì´ìœ ëŠ” ë¬´ì—‡ì¸ê°€ìš”? (ë¯¸ì…˜)", placeholder="ì˜ˆ: ìš´ë™ì„ í†µí•´ ì‚¬ëŒë“¤ì˜ ê±´ê°•í•œ ì‚¶ì„ ë•ëŠ”ë‹¤.")
    passion = st.text_input("2. ë‹¹ì‹ ì´ ê°€ì¥ ì—´ì •ì ìœ¼ë¡œ ì´ì•¼ê¸°í•  ìˆ˜ ìˆëŠ” ì£¼ì œëŠ” ë¬´ì—‡ì¸ê°€ìš”?", placeholder="ì˜ˆ: í™ˆ íŠ¸ë ˆì´ë‹")
    expertise = st.text_input("3. ë‹¹ì‹ ì´ ì „ë¬¸ì„±ì„ ê°€ì§€ê³  ìˆëŠ” ë¶„ì•¼ëŠ” ë¬´ì—‡ì¸ê°€ìš”?", placeholder="ì˜ˆ: ì¬í™œ í•„ë¼í…ŒìŠ¤ ìê²©ì¦ ë³´ìœ ")
    core_value = st.text_input("4. ë‹¹ì‹ ì´ ê°€ì¥ ì¤‘ìš”í•˜ê²Œ ìƒê°í•˜ëŠ” í•µì‹¬ ê°€ì¹˜ëŠ” ë¬´ì—‡ì¸ê°€ìš”?", placeholder="ì˜ˆ: ê¾¸ì¤€í•¨, ì§„ì •ì„±")
    target_audience = st.text_input("5. ë‹¹ì‹ ì˜ í•µì‹¬ íƒ€ê²Ÿ ê³ ê°ì€ ëˆ„êµ¬ì¸ê°€ìš”?", placeholder="ì˜ˆ: 30ëŒ€ ì¶œì‚° í›„ ì—¬ì„±")
    target_pain_point = st.text_input("6. íƒ€ê²Ÿ ê³ ê°ì´ ê°€ì¥ í•´ê²°í•˜ê³  ì‹¶ì–´í•˜ëŠ” ê³ ë¯¼ì€ ë¬´ì—‡ì¸ê°€ìš”?", placeholder="ì˜ˆ: ì¶œì‚° í›„ ëŠ˜ì–´ì§„ ë±ƒì‚´ê³¼ ì•½í•´ì§„ ì½”ì–´")
    target_desire = st.text_input("7. íƒ€ê²Ÿ ê³ ê°ì´ ê¶ê·¹ì ìœ¼ë¡œ ì›í•˜ëŠ” ìš•ë§ì€ ë¬´ì—‡ì¸ê°€ìš”?", placeholder="ì˜ˆ: ì„ì‹  ì „ì˜ ëª¸ë§¤ì™€ ìì‹ ê°ì„ ë˜ì°¾ê³  ì‹¶ë‹¤.")

    submit_button = st.form_submit_button("ë¸Œëœë”© ì „ëµ ë¶„ì„ ì‹œì‘")

# --- ë¶„ì„ ë¡œì§ ë° ê²°ê³¼ ì¶œë ¥ ---
if submit_button:
    # ì—ëŸ¬ í•¸ë“¤ë§
    if not all([mission, passion, expertise, core_value, target_audience, target_pain_point, target_desire]):
        st.error("ğŸš¨ ëª¨ë“  í•„ë“œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”!")
    else:
        st.success("ğŸ‰ ë¶„ì„ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤! ì•„ë˜ì—ì„œ ê²°ê³¼ë¥¼ í™•ì¸í•˜ì„¸ìš”.")

        # 1. ì¬ì •ì˜ëœ ë¸Œëœë“œ ë¯¸ì…˜ ìƒì„±
        hook = random.choice(emotional_hooks)
        redefined_mission = f"ë‹¨ìˆœíˆ '{passion}'ì„ ë„˜ì–´, '{target_audience}'ê°€ '{target_pain_point}'ì„ ê·¹ë³µí•˜ê³  '{target_desire}'ë¥¼ ì‹¤í˜„í•˜ë„ë¡ ë•ëŠ” '{core_value}'ì˜ ë©˜í† . ë‹¹ì‹ ì˜ '{hook}'ì„ í•¨ê»˜í•©ë‹ˆë‹¤."
        
        # 2. í˜ë¥´ì†Œë‚˜ ì •ì˜
        # ê°„ë‹¨í•œ ë¡œì§: ì „ë¬¸ì„±ê³¼ ì—´ì •ì˜ êµì§‘í•©ì„ ê¸°ë°˜ìœ¼ë¡œ í˜ë¥´ì†Œë‚˜ ì¶”ì²œ
        persona_key = "ì „ë¬¸ê°€" if "ìê²©ì¦" in expertise or "ì½”ì¹˜" in expertise else "ê²½í—˜ ê³µìœ "
        persona = personas.get(persona_key, "ê³µê°ì˜ ê°œì²™ì (Explorer)")
        vulnerability_point = f"ì € ë˜í•œ ê³¼ê±°ì— '{target_pain_point}'ìœ¼ë¡œ ê³ ìƒí–ˆì§€ë§Œ ê·¹ë³µí•œ ê²½í—˜ì´ ìˆìŠµë‹ˆë‹¤." # Ryan Zofayì˜ 'ì·¨ì•½ì ' ê°•ì¡°

        # 3. ì¸ìŠ¤íƒ€ BIO ìƒì„± (Kait LeDonne ìµœì í™”)
        emoji_list = ["âœ¨", "ğŸ’ª", "ğŸ’¡", "ğŸš€", "â¤ï¸"]
        bio_emoji = random.choice(emoji_list)
        bio = f"{persona.split(' (')[0]} {bio_emoji} | {mission} | {target_audience} ì „ë¬¸ | {vulnerability_point.split(' ')[0]} ê·¹ë³µ ìŠ¤í† ë¦¬ | {random.choice(cta_options)}"
        
        # 4. í•µì‹¬ í•´ì‹œíƒœê·¸ ìƒì„±
        hashtags = [
            f"#{passion.replace(' ', '')}",
            f"#{target_pain_point.split(' ')[0]}ê·¹ë³µ",
            f"#{target_audience.split(' ')[0]}",
            f"#{core_value.split(',')[0]}",
            f"#{hook}ì±Œë¦°ì§€"
        ]

        # 5. ì¥ê¸° í”Œëœ (Daria Astanaevaì˜ ê´€ê³„ ë§ˆì¼€íŒ… ê¸°ë°˜)
        long_term_plan = {
            "ì´ˆì°½ê¸° (1-3ê°œì›”)": "ì§„ì •ì„± ìˆëŠ” ì†Œí†µê³¼ 'ì·¨ì•½ì ' ê³µìœ ë¥¼ í†µí•´ ì´ˆê¸° íŒ¬ë“¤ê³¼ ê¹Šì€ ìœ ëŒ€ê° í˜•ì„±. ëŒ“ê¸€ê³¼ DMì— 100% ë‹µì¥í•˜ë©° ê´€ê³„ êµ¬ì¶•.",
            "ì¤‘ê°„ (4-9ê°œì›”)": "íƒ€ê²Ÿ ê³ ê°ì˜ ê³ ë¯¼ í•´ê²°ì— ì§‘ì¤‘í•˜ëŠ” ì •ë³´ì„±/ì°¸ì—¬í˜• ì½˜í…ì¸ (Q&A, ì±Œë¦°ì§€)ë¡œ ì „ë¬¸ì„± ì…ì¦ ë° ì»¤ë®¤ë‹ˆí‹° í™œì„±í™”.",
            "ìˆ˜ìµí™” (10ê°œì›” ì´í›„)": "êµ¬ì¶•ëœ ì‹ ë¢°ë¥¼ ë°”íƒ•ìœ¼ë¡œ ì†Œìˆ˜ ì •ì˜ˆ ê·¸ë£¹ ì½”ì¹­, ì˜¨ë¼ì¸ VOD ë“± ê³ ë¶€ê°€ê°€ì¹˜ ìƒí’ˆ ì œì•ˆ. ì»¤ë®¤ë‹ˆí‹° ê¸°ë°˜ì˜ ìì—°ìŠ¤ëŸ¬ìš´ ì „í™˜ ìœ ë„."
        }

        # --- ê²°ê³¼ ë””ìŠ¤í”Œë ˆì´ ---
        st.divider()
        st.header("ğŸ“Š ë‹¹ì‹ ì„ ìœ„í•œ ë§ì¶¤ ë¸Œëœë”© ì „ëµ")

        st.subheader("1. ì¬ì •ì˜ëœ ë¸Œëœë“œ ë¯¸ì…˜")
        st.info(redefined_mission)

        st.subheader("2. ë¸Œëœë“œ í˜ë¥´ì†Œë‚˜")
        st.info(f"**í˜ë¥´ì†Œë‚˜:** {persona}\n\n**ìŠ¤í† ë¦¬í…”ë§ í¬ì¸íŠ¸:** '{vulnerability_point}'ì™€ ê°™ì´ ë‹¹ì‹ ì˜ ì·¨ì•½ì ì„ ì†”ì§í•˜ê²Œ ê³µìœ í•˜ë©° íƒ€ê²Ÿ ê³ ê°ê³¼ ê°•ë ¥í•œ ê³µê°ëŒ€ë¥¼ í˜•ì„±í•˜ì„¸ìš”.")

        st.subheader("3. ì¸ìŠ¤íƒ€ê·¸ë¨ BIO (50ì ë‚´ì™¸ ìµœì í™”)")
        st.info(f"**ì¶”ì²œ BIO:**\n\n{bio}")
        st.caption("ìœ„ BIOë¥¼ ê¸°ë°˜ìœ¼ë¡œ ììœ ë¡­ê²Œ ìˆ˜ì •í•˜ì—¬ ì‚¬ìš©í•˜ì„¸ìš”.")

        st.subheader("4. í•µì‹¬ í•´ì‹œíƒœê·¸ 5ê°€ì§€")
        st.info('  |  '.join(hashtags))
        st.caption("ì½˜í…ì¸  ë°œí–‰ ì‹œ ìœ„ í•´ì‹œíƒœê·¸ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ê´€ë ¨ í•´ì‹œíƒœê·¸ë¥¼ ì¶”ê°€í•˜ì—¬ ì‚¬ìš©í•˜ì„¸ìš”.")
        
        st.subheader("5. ì¥ê¸° ì„±ì¥ í”Œëœ (ê´€ê³„ ë§ˆì¼€íŒ… ê¸°ë°˜)")
        for stage, plan in long_term_plan.items():
            st.write(f"**{stage}:** {plan}")
